(function(s,o){typeof exports=="object"&&typeof module<"u"?o(exports,require("lightweight-charts")):typeof define=="function"&&define.amd?define(["exports","lightweight-charts"],o):(s=typeof globalThis<"u"?globalThis:s||self,o(s.GroupedBarsSeries={},s.LightweightCharts))})(this,function(s,o){"use strict";var w=Object.defineProperty;var y=(s,o,h)=>o in s?w(s,o,{enumerable:!0,configurable:!0,writable:!0,value:h}):s[o]=h;var _=(s,o,h)=>y(s,typeof o!="symbol"?o+"":o,h);const h={...o.customSeriesDefaultOptions,colors:["#2962FF","#E1575A","#F28E2C","rgb(164, 89, 209)","rgb(27, 156, 133)"]};function m(a){return Math.floor(a*.5)}function b(a,t,e=1,i){const l=Math.round(t*a),c=Math.round(e*t),B=m(c);return{position:l-B,length:c}}function v(a,t,e){const i=Math.round(e*a),l=Math.round(e*t);return{position:Math.min(i,l),length:Math.abs(l-i)+1}}class x{constructor(){_(this,"_data",null);_(this,"_options",null)}draw(t,e){t.useBitmapCoordinateSpace(i=>this._drawImpl(i,e))}update(t,e){this._data=t,this._options=e}_drawImpl(t,e){if(this._data===null||this._data.bars.length===0||this._data.visibleRange===null||this._options===null)return;const i=this._options,l=this._data.barSpacing,c=this._data.bars.map(n=>{const p=n.originalData.values.length,r=l/(p+1),g=r/2+n.x-l/2+r/2;return{singleBarWidth:r,singleBars:n.originalData.values.map((u,d)=>({y:e(u)??0,color:i.colors[d%i.colors.length],x:g+d*r}))}}),B=e(0)??0;for(let n=this._data.visibleRange.from;n<this._data.visibleRange.to;n++){const p=c[n];let r;p.singleBars.forEach(f=>{const g=v(B,f.y,t.verticalPixelRatio),u=b(f.x,t.horizontalPixelRatio,p.singleBarWidth);t.context.beginPath(),t.context.fillStyle=f.color;const d=r?u.position-r:0;t.context.fillRect(u.position-d,g.position,u.length+d,g.length),r=u.position+u.length})}}}class P{constructor(){_(this,"_renderer");this._renderer=new x}priceValueBuilder(t){return[0,...t.values]}isWhitespace(t){var e;return!((e=t.values)!=null&&e.length)}renderer(){return this._renderer}update(t,e){this._renderer.update(t,e)}defaultOptions(){return h}}s.GroupedBarsSeries=P,Object.defineProperty(s,Symbol.toStringTag,{value:"Module"})});
